<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>droit_public</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="cours_droit_public_files/libs/clipboard/clipboard.min.js"></script>
<script src="cours_droit_public_files/libs/quarto-html/quarto.js"></script>
<script src="cours_droit_public_files/libs/quarto-html/popper.min.js"></script>
<script src="cours_droit_public_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="cours_droit_public_files/libs/quarto-html/anchor.min.js"></script>
<link href="cours_droit_public_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="cours_droit_public_files/libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="cours_droit_public_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="cours_droit_public_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="cours_droit_public_files/libs/bootstrap/bootstrap-8a79a254b8e706d3c925cde0a310d4f0.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="cours_droit_public_files/libs/quarto-diagram/mermaid.min.js"></script>
<script src="cours_droit_public_files/libs/quarto-diagram/mermaid-init.js"></script>
<link href="cours_droit_public_files/libs/quarto-diagram/mermaid.css" rel="stylesheet">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">droit_public</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="prof" class="level2">
<h2 class="anchored" data-anchor-id="prof">Prof :</h2>
</section>
<section id="récupérer-cours-décentralisationdéconcentration" class="level2">
<h2 class="anchored" data-anchor-id="récupérer-cours-décentralisationdéconcentration">Récupérer cours Décentralisation/Déconcentration</h2>
</section>
<section id="comment-est-organisé-lorgane-central" class="level2">
<h2 class="anchored" data-anchor-id="comment-est-organisé-lorgane-central">Comment est organisé l’organe central</h2>
<section id="ministère-de-la-justice-garde-des-sceaux" class="level3">
<h3 class="anchored" data-anchor-id="ministère-de-la-justice-garde-des-sceaux">Ministère de la Justice =&gt; Garde des sceaux</h3>
<p>Les attributions des ministres sont fixés par un décret d’attribution pris par le premier ministre en lien avec le président de la République. C’est lui qui détermine les misisons et bojectifs que doivent atteindre les ministres.</p>
<p>Ca nous dit aussi sur quelles administrations va pouvoir s’appuyer le ministre, auxquelles il peut donner du travail etc.</p>
<p>Quand le premier ministre est élu, il fait (depuis la 5ème république) une lettre mandatée de démission, sur laquelle le président de la République apose la date quand il en a marre du premier ministre.<br>
<br>
A l’intérieur d’un ministère, il y a un ministre, et il ne travaille pas tout seul. Il a :</p>
<ul>
<li><p>un cabinet. (Pas le droit d’embaucher son frère, sa soeur, son père, sa mère…) dirigé par un directeur de cabinet (dircab) qui a autorité sur tous les autres membres du cabinet.</p></li>
<li><p>le nombre de collaborateurs est fixé (15 pour un ministre, 10 pour un ministère, 7 pour un secrétaire d’Etat</p></li>
<li><p>chef du cabinet =&gt; enregistre la vie du ministre avec son agenda. Plutôt la partie “représentation” du ministre, pas décisionnelle.</p></li>
<li><p>secrétariats généraux : un secrétariat par ministère, mais il peut y avoir un secrétariat général pour plusieurs ministères. Il s’occupe du RH, administration, <strong>juridique.</strong> C’est au sein de ces secrétariats qu’on trouve les direction juridiques. C’est le SGAE qui s’occupe de transcrire le droit européen en droit français (à 50% ou 60% donc c’est beaucoup de travail)</p></li>
<li><p>Elysée : on y trouve un <strong>secrétariat général</strong>. C’est Alexis Kohler le <strong>secrétaire générale</strong> actuellement, c’est un poste très important (l’autre Président un peu). Il est en contact avec le premier ministre et avec ses homologues étrangers. C’est quelqu’un d’absolument central. Il faut y mettre quelqu’un de confiance. C’est quelqu’un qui va tout entendre.<br>
L’élysée emploie environ 800 personnes mais il y a aussi des cuisiniers, des gens qui ouvrent la porte etc. Ceux qui l’entourent, on l’appelle “l’Etat Major” =&gt; c’est environ 50 personnes. (Bennalla vraisemblablement en faisait partie)<br>
Le but de l’Elysee c’est aussi de faire de la surveillance du premier ministre =&gt; partir dans une voie qui lui serait personnelle. Et le premier ministre essaie d’exister par lui-même malgré tout.<br>
Opactité des budgets de fonctionnement de l’Etat =&gt; on peut avoir une transparence “globale” mais par service par service, donc ça reste opaque. <strong>René Dosière</strong><a href="https://fr.wikipedia.org/wiki/Ren%C3%A9_Dosi%C3%A8re" class="uri">https://fr.wikipedia.org/wiki/Ren%C3%A9_Dosi%C3%A8re</a> fait des travaux là-dessus.<br>
Exemple : 5400€/mois pour le coiffeur de la première dame, c’est sorti récemment. Il existe une commission d’accès aux documents administratifs =&gt; les documents ne doivent normalement pas être couverts pas le secret. Dans la pratique, les administrations refusent. On saisit la CADA (Commission d’accès aux documents administratifs).</p></li>
<li><p>le SGG, secrétariat général du gouvernement. A sa tête, il y a une des personnes les plus importantes de l’Etat. C’est lui qui accueille le premier ministre à Matignon quand il est nommé. C’est le SGG qui prépare et organise le conseil des ministres. C’est lui qui représente l’Etat quand il est en procès administratif . Missions :</p>
<ul>
<li><p>Maintien de la continuité de l’Etat (maintien des archives depuis la 5ème République)</p></li>
<li><p>Respect de la légalité et de la constitutionnalité</p></li>
<li><p>Greffier du travail gouvernemental</p></li>
<li><p>Rôle dans la procédure législative, c’est lui qui prépare les soumissions de loi au Parlement</p></li>
<li><p>La supervision des services administratifs du premier ministre</p></li>
</ul></li>
</ul>
<p>Il y a aussi d’autres structures de secrétariats généraux comme celui de la Défense (SGDSN)</p>
<p>On oppose souvent deux régimes :</p>
<p>Montesquieu indique que ce qui est important, c’est qu’une seule personne ne possède pas les 3 pouvoirs. Mais il ne dit pas que cette séparation doit être égale. Il pourrait en posséder 2, ou 2.5.</p>
<p>A quel point est-ce qu’un pouvoir peut agir sur un autre pouvoir ?</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Parlementaire</th>
<th>Présidentiel</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Séparation souple</td>
<td>Séparation stricte</td>
</tr>
<tr class="even">
<td></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="section" class="level2">
<h2 class="anchored" data-anchor-id="section">21/01/2025</h2>
</section>
<section id="le-processus-législatif-sous-la-ve-république" class="level2">
<h2 class="anchored" data-anchor-id="le-processus-législatif-sous-la-ve-république">Le Processus Législatif sous la Ve République</h2>
<section id="adoption-et-examen-dun-texte-de-loi" class="level3">
<h3 class="anchored" data-anchor-id="adoption-et-examen-dun-texte-de-loi">1. <strong>Adoption et Examen d’un Texte de Loi</strong></h3>
<ul>
<li><p><strong>Étape 1 : Assemblée Nationale</strong></p>
<ul>
<li>Le texte (projet ou proposition de loi) est étudié en <strong>commission permanente</strong> ou en commission spéciale.<br>
</li>
<li>En séance publique : discussion, <strong>vote article par article</strong>, puis <strong>vote global</strong> sur la loi.</li>
</ul></li>
<li><p><strong>Étape 2 : Sénat</strong></p>
<ul>
<li>Même processus : étude en commission, discussion en séance, votes.<br>
</li>
<li>Le Sénat adopte souvent un texte modifié, différent de celui voté par l’Assemblée.</li>
</ul></li>
<li><p><strong>Étape 3 : Relecture Parlementaire</strong></p>
<ul>
<li>Le texte retourne alors devant l’Assemblée Nationale pour une nouvelle lecture.<br>
</li>
<li>Si les deux chambres adoptent le texte <strong>en termes identiques</strong>, il est définitivement adopté.<br>
</li>
<li>Sinon, une <strong>Commission Mixte Paritaire (CMP)</strong> est convoquée, composée de représentants des deux assemblées pour chercher un compromis.</li>
</ul>
<blockquote class="blockquote">
<p><strong>Issue de la CMP :</strong></p>
<ul>
<li>Si un accord est trouvé, la version commune est adoptée.<br>
</li>
<li>En cas d’échec, le Gouvernement peut demander à l’Assemblée Nationale de statuer définitivement, conformément à l’<strong>article 45 de la Constitution</strong> (bicaméralisme inégalitaire).</li>
</ul>
</blockquote></li>
</ul>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart TB
    A((Texte déposé)) --&gt; B[Examen en Commission (AN)]
    B --&gt; C[Discussion et Vote (AN)]
    C --&gt; D((Sénat))]
    D --&gt; E[Examen en Commission (Sénat)]
    E --&gt; F[Discussion et Vote (Sénat)]
    F --&gt; G{Adopté Identique ?}
    G -- Oui --&gt; H((Loi adoptée))
    G -- Non --&gt; I[Commission Mixte Paritaire]
    I --&gt; J{Accord Trouvé ?}
    J -- Oui --&gt; H((Loi adoptée))
    J -- Non --&gt; K[Dernier Mot à l’Assemblée]
    K --&gt; H((Loi adoptée))
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p>{.callout-tip} <em>Comment in English (required in code)</em>: This diagram shows the main phases of the legislative process in France, including the CMP and the possibility for the National Assembly to have the final say.</p>
<hr>
</section>
<section id="promulgation-et-contrôle-de-constitutionnalité" class="level3">
<h3 class="anchored" data-anchor-id="promulgation-et-contrôle-de-constitutionnalité">2. <strong>Promulgation et Contrôle de Constitutionnalité</strong></h3>
<ul>
<li>Une fois le texte adopté, le <strong>Président de la République</strong> dispose de <strong>15 jours</strong> pour le promulguer<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>.</li>
<li>Pendant ce délai, un <strong>contrôle de constitutionnalité a priori</strong> peut être sollicité auprès du <strong>Conseil Constitutionnel</strong> par :
<ul>
<li>Le Premier ministre,</li>
<li>Les présidents de l’Assemblée Nationale et du Sénat,</li>
<li><strong>60 députés</strong> ou <strong>60 sénateurs</strong>.</li>
</ul></li>
</ul>
<blockquote class="blockquote">
<p><strong>À noter</strong> :<br>
Le Président de la République n’est pas strictement contraint de promulguer une loi. Toutefois, s’il refusait délibérément de le faire, il pourrait être exposé à une procédure de destitution pour « manquement incompatible avec l’exercice de ses fonctions ».<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
</blockquote>
<section id="question-prioritaire-de-constitutionnalité-qpc" class="level4">
<h4 class="anchored" data-anchor-id="question-prioritaire-de-constitutionnalité-qpc"><strong>Question Prioritaire de Constitutionnalité (QPC)</strong></h4>
<ul>
<li>Depuis le <strong>1er mars 2010</strong>, une <strong>QPC</strong> permet un contrôle <strong>a posteriori</strong> de la constitutionnalité d’une loi déjà promulguée.</li>
<li>La QPC est soumise à des conditions de recevabilité strictes, ce qui peut conduire certaines lois à <strong>échapper</strong> à tout contrôle constitutionnel si elles ne répondent pas aux critères nécessaires (notamment l’applicabilité au litige et le caractère « nouveau ou sérieux » de la question).</li>
</ul>
<hr>
</section>
</section>
</section>
<section id="la-ve-république-une-réaction-aux-régimes-précédents" class="level2">
<h2 class="anchored" data-anchor-id="la-ve-république-une-réaction-aux-régimes-précédents">La Ve République : Une Réaction aux Régimes Précédents</h2>
<section id="critiques-des-iiie-et-ive-républiques" class="level3">
<h3 class="anchored" data-anchor-id="critiques-des-iiie-et-ive-républiques">1. <strong>Critiques des IIIe et IVe Républiques</strong></h3>
<ul>
<li><strong>IIIe République</strong> : Critiquée pour sa faiblesse, ayant permis l’octroi des pleins pouvoirs au maréchal Pétain.<br>
</li>
<li><strong>IVe République</strong> : Instabilité gouvernementale et incapacité à résoudre des crises majeures, dont la question de l’indépendance algérienne.</li>
</ul>
<blockquote class="blockquote">
<p><strong>Constat des rédacteurs de la Constitution de 1958 :</strong><br>
- Excès de pouvoir législatif au détriment de l’exécutif, menant à des blocages institutionnels.</p>
</blockquote>
</section>
<section id="rationalisation-du-parlementarisme" class="level3">
<h3 class="anchored" data-anchor-id="rationalisation-du-parlementarisme">2. <strong>Rationalisation du Parlementarisme</strong></h3>
<p>Pour renforcer l’exécutif et contenir le Parlement : - Symboliquement, la Constitution énumère d’abord le <strong>Président</strong>, puis le <strong>Gouvernement</strong>, enfin le <strong>Parlement</strong>. - <strong>Mécanismes de rationalisation</strong> :<br>
- Maîtrise (partielle) de l’ordre du jour,<br>
- <strong>Article 49.3</strong> (adoption sans vote, sauf motion de censure),<br>
- Autres procédures encadrant strictement l’initiative et les débats parlementaires.</p>
<hr>
</section>
</section>
<section id="la-maîtrise-de-lordre-du-jour" class="level2">
<h2 class="anchored" data-anchor-id="la-maîtrise-de-lordre-du-jour">La Maîtrise de l’Ordre du Jour</h2>
<section id="évolution-historique" class="level3">
<h3 class="anchored" data-anchor-id="évolution-historique">1. <strong>Évolution Historique</strong></h3>
<ul>
<li><strong>Avant 1995</strong> : Le Gouvernement contrôlait la quasi-totalité de l’ordre du jour parlementaire.<br>
</li>
<li><strong>Depuis la révision constitutionnelle de 2008</strong> :
<ul>
<li>Volonté de « revaloriser le Parlement ».<br>
</li>
<li>Sur un cycle de 4 semaines :
<ul>
<li>2 semaines au Gouvernement pour fixer l’ordre du jour,</li>
<li>1 semaine pour le contrôle et l’évaluation des politiques publiques,</li>
<li>1 semaine pour l’initiative parlementaire, dont 1 jour pour les groupes minoritaires et 1 jour pour les questions au Gouvernement.</li>
</ul></li>
</ul></li>
</ul>
<p>{.callout-important} <strong>Important</strong> : Malgré ces avancées, lorsque le parti majoritaire soutient le Gouvernement, la réelle liberté parlementaire peut rester limitée, car l’ordre du jour est souvent déterminé en accord avec l’exécutif.</p>
<hr>
</section>
</section>
<section id="la-hiérarchie-des-normes" class="level2">
<h2 class="anchored" data-anchor-id="la-hiérarchie-des-normes">La Hiérarchie des Normes</h2>
<section id="pyramide-des-normes" class="level3">
<h3 class="anchored" data-anchor-id="pyramide-des-normes">1. <strong>Pyramide des Normes</strong></h3>
<table class="caption-top table">
<colgroup>
<col style="width: 36%">
<col style="width: 63%">
</colgroup>
<thead>
<tr class="header">
<th>Niveau</th>
<th>Contenu</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Constitution</strong></td>
<td>Texte suprême définissant l’organisation des pouvoirs et les libertés.</td>
</tr>
<tr class="even">
<td><strong>Traités internationaux</strong></td>
<td>Ratifiés selon l’article 53 C ; doivent être compatibles avec la Constitution.</td>
</tr>
<tr class="odd">
<td><strong>Lois (Article 34 C.)</strong></td>
<td>Domaine législatif réservé au Parlement.</td>
</tr>
<tr class="even">
<td><strong>Règlements (Article 37 C.)</strong></td>
<td>Pouvoir réglementaire autonome ou d’application des lois (gouvernement).</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>Conformité des Lois à la Constitution</strong> : Contrôlée par le Conseil constitutionnel (a priori ou a posteriori via QPC).</li>
<li><strong>Conflits internes à la Constitution</strong> : Le Conseil constitutionnel <strong>refuse</strong> de reconnaître une hiérarchie entre normes constitutionnelles (principe de conciliation).</li>
</ul>
</section>
<section id="conflit-constitution-vs.-traités" class="level3">
<h3 class="anchored" data-anchor-id="conflit-constitution-vs.-traités">2. <strong>Conflit Constitution vs.&nbsp;Traités</strong></h3>
<ul>
<li>Pour la <strong>Cour de Justice de l’Union Européenne (CJUE)</strong>, les traités européens ont une <strong>primauté</strong> sur le droit interne, <strong>y compris</strong> sur la Constitution<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>.</li>
<li>En droit français, le Conseil constitutionnel considère que la Constitution demeure la norme suprême, mais il invite à réviser la Constitution si un traité est manifestement contraire à celle-ci.</li>
</ul>
<p>{.callout-note} <strong>Note</strong> : Cette tension entre la primauté du droit de l’Union et la suprématie de la Constitution est un sujet récurrent de doctrine et de jurisprudence. Les juridictions françaises se sont efforcées de trouver des compromis (ex. : la théorie de la « Constitution réceptive »<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>).</p>
<hr>
</section>
</section>
<section id="références-et-notes-de-bas-de-page" class="level2">
<h2 class="anchored" data-anchor-id="références-et-notes-de-bas-de-page">Références et Notes de Bas de Page</h2>
<ul>
<li><strong>Constitution française du 4 octobre 1958</strong> (version consolidée) : <a href="https://www.legifrance.gouv.fr">www.legifrance.gouv.fr</a>.<br>
</li>
<li><strong>Conseil constitutionnel</strong> : site officiel et décisions en accès libre : <a href="https://www.conseil-constitutionnel.fr">www.conseil-constitutionnel.fr</a>.<br>
</li>
<li><strong>Cour de Justice de l’Union Européenne (CJUE)</strong> : <a href="https://curia.europa.eu">curia.europa.eu</a>.<br>
</li>
<li>Favoreu, L. et al.&nbsp;<em>Droit constitutionnel</em>. Dalloz, 2022.</li>
</ul>
</section>
<section id="section-1" class="level2">
<h2 class="anchored" data-anchor-id="section-1">28/01/2025</h2>
<p>“Domaine réservé du Président” =&gt; c’est une expression qui n’existe pas dans la Constitution. Elle a été inventée par … qui veut dire qu’il y a des choses qui n’appartiennent qu’aux présidents car trop importantes pour être confiées à d’autres.<br>
Traditionnellement ce sont les domaines reliés aux affaires :</p>
<ul>
<li><p>Militaires</p></li>
<li><p>Affaire étrangères</p></li>
<li><p>Régalien : Défense, Justice, Affaires étrangères</p></li>
</ul>
<p>Le Président dispose d’un droit de regard sur quel ministre il va aller à ces ministères.</p>
<p>Lorsque l’on a fait la Vème république, on a évite de refaire les mêmes qu’avec les IIIème et IVème Républiques : le Parlement avait un pouvoir trop fort, pas de majorité politique qui immobilisait le pouvoir. Il n’y a pas une force politique qui dispose de 50% + 1 voix, pas de majorité.</p>
<p><br>
Pour éviter cela, on a essayé de renforcer les pouvoirs de l’exécutif avec la Constitution. Mais seulement 4 ans après la Constitution, en 1962, on voit apparaître ce qu’on appelle le “<strong>fait majoritaire</strong>” =&gt; apparition d’un pouvoir politique en majorité à l’Assemblée.</p>
<p>On peut avoir :</p>
<table class="caption-top table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>Concordance</th>
<th>Cohabitation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Le Président a la <strong>même couleur politique</strong> que pouvoir majoritaire à l’Assemblée.</td>
<td>Le Président est d’une <strong>couleur politique différente</strong> du pouvoir majoritaire présent à l’Assemblée.</td>
</tr>
<tr class="even">
<td>Le Président a donc un pouvoir important. Personne ne s’oppose à lui car il est le chef de la majorité politique.</td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Entre 1958 et 2000 =&gt; Mandat du Président de la République est de 7 ans</p>
<p>de 2000 à maintenant, c’est 5 ans. C’est donc la même durée que les députés maintenant. Donc plus de “mid-term” comme aux USA.</p>
<p>Députés 1958 =&gt; 5 ans</p>
</section>
<section id="le-droit-administratif-principes-généraux-et-service-public" class="level2">
<h2 class="anchored" data-anchor-id="le-droit-administratif-principes-généraux-et-service-public">Le Droit Administratif : Principes Généraux et Service Public</h2>
<p>Le <strong>droit administratif</strong> est un ensemble de règles dérogatoires au droit privé, justifiées par la nécessité de servir <strong>l’intérêt général</strong> (IG) et d’assurer l’égalité de tous les citoyens. Il comporte des principes et prérogatives propres (<strong>exorbitance du droit commun</strong>) qui ne se retrouveraient pas en droit privé.</p>
<section id="lintérêt-général-ig" class="level3">
<h3 class="anchored" data-anchor-id="lintérêt-général-ig">1. L’Intérêt Général (IG)</h3>
<ul>
<li>L’<strong>intérêt général</strong> est au cœur de l’action administrative.<br>
</li>
<li>Il justifie la création et le fonctionnement des <strong>services publics</strong> (SP) et l’exercice de la <strong>police administrative</strong>.<br>
</li>
<li>Cet intérêt général est <strong>variable</strong> dans le temps, en fonction des évolutions politiques, économiques et sociales.</li>
</ul>
</section>
<section id="service-public-et-police-administrative" class="level3">
<h3 class="anchored" data-anchor-id="service-public-et-police-administrative">2. Service Public et Police Administrative</h3>
<ul>
<li>Le <strong>service public</strong> (SP) regroupe les activités d’intérêt général assurées directement par l’administration ou confiées à des entités privées sous son contrôle.</li>
<li>La <strong>police administrative</strong> vise à maintenir l’ordre public (sécurité, tranquillité, salubrité, etc.), afin de garantir une coexistence harmonieuse dans la société.</li>
</ul>
</section>
<section id="lexorbitance-du-droit-commun" class="level3">
<h3 class="anchored" data-anchor-id="lexorbitance-du-droit-commun">3. L’Exorbitance du Droit Commun</h3>
<ul>
<li>Le droit administratif prévoit des règles <strong>exorbitantes</strong> du droit commun, c’est-à-dire des règles qui ne seraient pas admises dans les rapports de droit privé.<br>
</li>
<li>Ces règles sont liées aux <strong>prérogatives de puissance publique (PPP)</strong>, telles que :
<ul>
<li>La capacité d’édicter des actes administratifs unilatéraux.<br>
</li>
<li>La possibilité d’exécuter ces actes de force, sans nécessiter l’aval du juge civil.<br>
</li>
<li>Des régimes de responsabilité spécifiques, différents du droit civil.</li>
</ul></li>
</ul>
</section>
<section id="lévolution-personnes-privées-gestionnaires-dun-service-public" class="level3">
<h3 class="anchored" data-anchor-id="lévolution-personnes-privées-gestionnaires-dun-service-public">4. L’Évolution : Personnes Privées Gestionnaires d’un Service Public</h3>
<ul>
<li><strong>Avant 1938</strong> : Seules les <strong>personnes publiques</strong> (État, collectivités territoriales, établissements publics) pouvaient gérer un service public.<br>
</li>
<li><strong>Depuis 1938</strong> : La jurisprudence (CE, 13 mai 1938, <em>Caisse primaire Aide et Protection</em>) admet qu’une <strong>personne privée</strong> puisse être chargée d’une mission de service public, sous condition de respecter l’intérêt général et d’être soumise à un contrôle de l’administration.</li>
</ul>
</section>
<section id="les-critères-du-service-public" class="level3">
<h3 class="anchored" data-anchor-id="les-critères-du-service-public">5. Les Critères du Service Public</h3>
<p>Pour déterminer si une activité est un service public, la jurisprudence retient généralement un <strong>faisceau d’indices</strong> (arrêts <em>Narcy</em> et <em>APREI</em>) : 1. <strong>La finalité d’intérêt général</strong> (IG).<br>
2. <strong>Le contrôle exercé par une personne publique</strong> (suivi, orientation, évaluation de l’activité).<br>
3. <strong>L’existence de prérogatives de puissance publique (PPP)</strong> permettant de mettre en œuvre la mission avec des moyens particuliers.</p>
<p>Lorsque <strong>ces critères</strong> sont réunis, l’activité relève du <strong>droit administratif</strong>.</p>
<p>Le <strong>faisceau d’indices</strong> n’est utilisé que lorsque la présence d’une <strong>PPP</strong> n’est pas clairement établie, ou bien lorsqu’on ne peut pas démontrer de manière certaine le <strong>critère “classique”</strong> de la prérogative de puissance publique.</p>
<p>Autrement dit, <strong>si on trouve une PPP</strong>, alors la qualification de service public peut être plus « <strong>directe</strong> » (modèle traditionnel de l’arrêt <em>Narcy</em>). En revanche, <strong>si la PPP fait défaut</strong>, on regarde si, malgré tout, l’activité présente d’autres <strong>éléments suffisamment forts</strong> pour la qualifier de service public : un <strong>véritable intérêt général</strong>, un <strong>contrôle administratif</strong> étroit (financier, fonctionnel, direction, etc.), et une volonté <strong>claire</strong> de la puissance publique que l’activité <strong>serve la collectivité</strong>. C’est là qu’intervient le <strong>« faisceau d’indices »</strong> dégagé (notamment) par la jurisprudence <em>APREI</em>, pour pallier <strong>l’absence de PPP</strong>.</p>
<hr>
</section>
</section>
<section id="la-distinction-spaspic" class="level2">
<h2 class="anchored" data-anchor-id="la-distinction-spaspic">La Distinction SPA/SPIC</h2>
<p>Le professeur a également précisé que les <strong>services publics</strong> (SP) se subdivisent en deux grandes catégories :</p>
<section id="spa-service-public-administratif" class="level3">
<h3 class="anchored" data-anchor-id="spa-service-public-administratif">1. <strong>SPA (Service Public Administratif)</strong></h3>
<ul>
<li><strong>Objet</strong> : Missions administratives « classiques » (ex. éducation, police, défense, justice, etc.)<br>
</li>
<li><strong>Régime juridique</strong> : Principalement régi par le <strong>droit administratif</strong> (juge administratif compétent).<br>
</li>
<li><strong>Personnel</strong> : <strong>Agents publics</strong> (fonctionnaires ou contractuels de droit public).<br>
</li>
<li><strong>Financement</strong> : Principalement assuré par <strong>l’impôt</strong> ou des ressources publiques.</li>
</ul>
<blockquote class="blockquote">
<p><strong>Exemples</strong> : Écoles publiques, hôpitaux publics, services de police, etc.</p>
</blockquote>
</section>
<section id="spic-service-public-industriel-et-commercial" class="level3">
<h3 class="anchored" data-anchor-id="spic-service-public-industriel-et-commercial">2. <strong>SPIC (Service Public Industriel et Commercial)</strong></h3>
<ul>
<li><strong>Objet</strong> : Activités économiques de nature industrielle ou commerciale (production de biens ou de services vendus contre rémunération).<br>
</li>
<li><strong>Régime juridique</strong> : Majoritairement soumis au <strong>droit privé</strong> (juge judiciaire compétent pour la plupart des litiges).<br>
</li>
<li><strong>Personnel</strong> : Souvent régi par le <strong>droit privé</strong> (contrats de travail de droit privé).<br>
</li>
<li><strong>Financement</strong> : Principalement par des <strong>redevances</strong> payées par les usagers (logique proche de l’entreprise).</li>
</ul>
<blockquote class="blockquote">
<p><strong>Exemples</strong> : Régies de transport, distribution d’eau, de gaz ou d’électricité, les télécommunications (selon l’organisation retenue), etc.</p>
</blockquote>
<hr>
</section>
<section id="origine-et-critères" class="level3">
<h3 class="anchored" data-anchor-id="origine-et-critères">Origine et Critères</h3>
<ul>
<li>La distinction SPA/SPIC remonte à l’arrêt <strong>CE, 1921, <em>Société commerciale de l’Ouest africain</em> (Bac d’Eloka)</strong>, où le <strong>Conseil d’État</strong> a reconnu qu’une <strong>personne publique</strong> peut gérer une activité à caractère industriel et commercial.<br>
</li>
<li>Les <strong>critères</strong> permettant de qualifier un service public d’« administratif » ou « industriel et commercial » reposent sur la <strong>nature</strong> de l’activité, son <strong>mode de financement</strong>, ses <strong>méthodes de fonctionnement</strong>, ainsi que la présence ou non d’un <strong>profit</strong> recherché.</li>
</ul>
<hr>
</section>
<section id="en-synthèse" class="level3">
<h3 class="anchored" data-anchor-id="en-synthèse">En Synthèse</h3>
<ul>
<li><strong>SPA</strong> : Activité administrative, fonctionnement essentiellement sous droit public, financement par l’impôt, personnel statutaire.<br>
</li>
<li><strong>SPIC</strong> : Activité économique, fonctionnement plutôt sous droit privé, financement par redevances, personnel de droit privé.</li>
</ul>
</section>
<section id="références-et-jurisprudences-clés" class="level3">
<h3 class="anchored" data-anchor-id="références-et-jurisprudences-clés">6. Références et Jurisprudences Clés</h3>
<ul>
<li><strong>TC, 8 février 1873, <em>Blanco</em></strong> : arrêt fondateur du droit administratif, consacre le principe de responsabilité de l’État selon des règles spéciales.<br>
</li>
<li><strong>CE, 13 mai 1938, <em>Caisse primaire Aide et Protection</em></strong> : possibilité pour une personne privée d’assurer un service public.<br>
</li>
<li><strong>CE, 28 juin 1963, <em>Narcy</em></strong> : identification des critères constitutifs du service public (IG, contrôle public, PPP).<br>
</li>
<li><strong>CE, 22 février 2007, <em>APREI</em></strong> : confirmation et évolution de la méthode du faisceau d’indices.</li>
</ul>
</section>
<section id="principes-de-mutabilité-du-service-public-lois-rolland" class="level3">
<h3 class="anchored" data-anchor-id="principes-de-mutabilité-du-service-public-lois-rolland">Principes de mutabilité du service public (Lois Rolland)</h3>
<p>Puisque l’intérêt général varie, le service public doit varier aussi. Mais ça veut dire qu’on a pas droit à un maintien d’un service public. Car il évolue en fonction de l’intérêt général : le service évolue avec lui.</p>
</section>
</section>
<section id="le-principe-dégalité-dans-le-service-public" class="level2">
<h2 class="anchored" data-anchor-id="le-principe-dégalité-dans-le-service-public">Le Principe d’Égalité dans le Service Public</h2>
<p>Le <strong>principe d’égalité</strong> exige de <strong>traiter de manière identique</strong> des situations <strong>identiques</strong> et, <strong>inversement</strong>, d’accepter de <strong>traiter différemment</strong> des <strong>situations différentes</strong>.</p>
<ul>
<li><strong>Évolution jurisprudentielle</strong> :
<ul>
<li>Pendant longtemps, la jurisprudence attachait une grande importance à la notion d’égalité, parfois de façon très <strong>abstraite</strong>, sans prendre en compte les spécificités de chaque situation.<br>
</li>
<li>Un <strong>arrêt de 1978</strong> (non cité ici, mais souvent désigné comme l’arrêt <em>CE, 10 novembre 1978, GISTI</em> ou d’autres décisions de la même époque) a permis d’admettre des <strong>traitements différenciés</strong> en fonction de la <strong>différence objective</strong> de la situation.</li>
</ul></li>
</ul>
<blockquote class="blockquote">
<p><strong>Citation d’Anatole France</strong> : « La loi, dans sa majestueuse égalité, interdit aux riches comme aux pauvres de coucher sous les ponts, de mendier dans les rues et de voler du pain. »<br>
— Critique ironique de l’égalité formelle qui ne prend pas en compte les inégalités réelles.</p>
</blockquote>
<p><strong>Exemple</strong> : Pour un concours administratif, il est <strong>légitime</strong> d’exiger un <strong>diplôme</strong> (ex. BAC+3) en fonction des compétences requises. Les candidats ne répondant pas à ce critère seront <strong>légalement écartés</strong>.</p>
<p><strong>Remarque</strong> :<br>
- Dans certains domaines (par ex. les <strong>services de renseignement</strong>), seuls des <strong>nationaux</strong> peuvent être recrutés, ce qui constitue une <strong>différence de traitement</strong> justifiée par l’intérêt supérieur de l’État.<br>
- En droit de l’environnement, la <strong>personnalité juridique</strong> de la biodiversité (ou d’entités naturelles) n’existe pas en France, contrairement à certains pays (Equateur, Espagne) qui ont fait le choix de <strong>reconnaître des droits</strong> à la nature.</p>
<hr>
</section>
<section id="le-principe-de-neutralité" class="level2">
<h2 class="anchored" data-anchor-id="le-principe-de-neutralité">Le Principe de Neutralité</h2>
<p>Le <strong>principe de neutralité</strong> signifie que le service public doit être <strong>exempt de toute discrimination</strong> liée aux convictions religieuses, politiques ou philosophiques.</p>
<section id="aspect-historique-et-jurisprudence" class="level3">
<h3 class="anchored" data-anchor-id="aspect-historique-et-jurisprudence">1. Aspect historique et jurisprudence</h3>
<ul>
<li><strong>Arrêt de 1954</strong> (affaire non nommée ici, souvent évoquée comme <em>CE, 28 mai 1954, Barel</em> pour l’ENA) : Il était question d’exclure un communiste de l’ENA. Le <strong>Conseil d’État</strong> a rappelé que l’on <strong>ne peut écarter</strong> un candidat en raison de ses <strong>opinions politiques</strong>.</li>
<li><strong>Neutralité religieuse</strong> : L’administration <strong>ne peut</strong> imposer d’interdiction générale à un usager en fonction de sa religion.
<ul>
<li>La <strong>laïcité</strong> est incluse dans le principe de neutralité.<br>
</li>
<li>Historiquement, <strong>seuls les agents</strong> étaient tenus de <strong>ne pas manifester</strong> de convictions religieuses ou politiques. Les usagers avaient la <strong>liberté de le faire</strong>.</li>
</ul></li>
</ul>
</section>
<section id="loi-de-1905-et-consécration-de-la-liberté-de-culte" class="level3">
<h3 class="anchored" data-anchor-id="loi-de-1905-et-consécration-de-la-liberté-de-culte">2. Loi de 1905 et consécration de la liberté de culte</h3>
<ul>
<li>La <strong>loi de 1905</strong> sur la <strong>séparation des Églises et de l’État</strong> impose à l’État de garantir le <strong>libre exercice</strong> des cultes.<br>
</li>
<li>Toutes les <strong>croyances</strong> doivent être <strong>respectées</strong>.<br>
</li>
<li><strong>Pas de définition légale</strong> en France de ce qu’est une religion.</li>
</ul>
</section>
<section id="le-port-de-signes-religieux" class="level3">
<h3 class="anchored" data-anchor-id="le-port-de-signes-religieux">3. Le Port de Signes Religieux</h3>
<ul>
<li><strong>Arrêt 1996 (CE, avis ou décision?)</strong> : Le Conseil d’État explique que le <strong>port du voile</strong> dans les établissements scolaires n’est <strong>pas interdit</strong> sauf si un <strong>règlement intérieur</strong> le prohibe pour des motifs tenant à l’<strong>ordre public</strong> ou au bon fonctionnement du service.<br>
</li>
<li><strong>Loi de 2004</strong> : Interdit les <strong>signes religieux ostensibles</strong> dans les <strong>écoles publiques</strong> (primaire et secondaire).
<ul>
<li>Distinction entre le <strong>pré-bac</strong> (interdit) et le <strong>post-bac</strong> (autorisé à l’université).<br>
</li>
<li>Une évolution législative envisage aujourd’hui de <strong>restreindre</strong> ces libertés également au <strong>post-bac</strong>, voire dans l’espace public, ce qui marque un <strong>élargissement</strong> du champ d’application du principe de laïcité au-delà de son cadre initial.</li>
</ul></li>
</ul>
<p><strong>Exemple</strong> :<br>
- Le <strong>niqab</strong> : une loi interdit la <strong>dissimulation intégrale</strong> du visage dans l’espace public (loi de 2010), avec des <strong>exceptions</strong> (motifs festifs, carnavals, casques de moto, etc.).</p>
</section>
<section id="particularité-de-lalsace-moselle" class="level3">
<h3 class="anchored" data-anchor-id="particularité-de-lalsace-moselle">4. Particularité de l’Alsace-Moselle</h3>
<ul>
<li>Dans les départements d’Alsace et de Moselle (rattachés tardivement à la France), on <strong>ne</strong> pratique <strong>pas</strong> la <strong>séparation stricte</strong> de 1905.<br>
</li>
<li>Les <strong>cultes reconnus</strong> (catholique, protestant, israélite) sont subventionnés par l’État, ce qui permet aux ministres du culte d’être <strong>rémunérés</strong>.<br>
</li>
<li>L’enseignement religieux est toujours prévu dans les établissements scolaires, sauf dispense demandée par les parents.</li>
</ul>
<hr>
</section>
</section>
<section id="en-synthèse-1" class="level2">
<h2 class="anchored" data-anchor-id="en-synthèse-1">En Synthèse</h2>
<ul>
<li>Le <strong>principe d’égalité</strong> dans le service public admet des <strong>traitements différenciés</strong> lorsqu’il existe des <strong>justifications objectives</strong> (diplômes, nationalité, etc.).</li>
<li>Le <strong>principe de neutralité</strong> impose à l’administration de <strong>ne pas discriminer</strong> selon les convictions politiques ou religieuses, même si ces dernières années ont vu <strong>s’élargir</strong> le champ des restrictions concernant le port de <strong>signes religieux</strong>.</li>
<li>Certaines <strong>particularités locales</strong> (Alsace-Moselle) et <strong>exception(s)</strong> (services de renseignement, armée, etc.) nuancent l’application uniforme de ces principes sur l’ensemble du territoire.</li>
</ul>
<section id="principe-de-continuité-du-service-public" class="level3">
<h3 class="anchored" data-anchor-id="principe-de-continuité-du-service-public">Principe de continuité du service public</h3>
<p>c’est le corollaire de continuité de l’Etat. Comme l’Etat est continu, les services qu’il assure doivent être continus. Ce qu’il faut éviter, c’est l’Etat à “éclipses”. Cette continuité s’oppose néanmoins au droit constitutionnel de grève. Le juge doit donc essayer de concilier les deux. Le Conseil Constitutionnel a autorisé le législateur à apporter des imitations au droit de grève. (policiers et militaires sont interdits de grève.</p>
<p>Aiguilleurs du ciel pareil, service minimum d’accueil pour les enfants pour les enseignants en primaire. S’ils font grève les parents peuvent pas travailler, et si les parents peuvent pas travailler, c’est problématique pour l’économie.</p>
</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Article 10 de la Constitution.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Cons. const., Décision n° 2014-XXX. Voir également articles 67 et 68 de la Constitution.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>CJCE, Costa c/ ENEL, 1964, aff. 6/64 (arrêt fondateur sur la primauté du droit communautaire).<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>Voir L. Favoreu, <em>Droit constitutionnel</em>, Dalloz, 2022<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>